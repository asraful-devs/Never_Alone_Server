model Person {
  id                  String   @id @default(uuid())
  name                String
  email               String   @unique
  password            String
  needsPasswordChange Boolean  @default(true)
  role                Role     @default(USER)
  status              status   @default(ACTIVE)
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt

  admin Admin?
  host  Host?
  user  User?

  @@map("persons")
}

model Admin {
  id            String   @id @default(uuid())
  name          String
  email         String   @unique
  profilePhoto  String?
  contactNumber String
  isDeleted     Boolean  @default(false)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  person Person @relation(fields: [email], references: [email])

  @@map("admins")
}

model Host {
  id            String   @id @default(uuid())
  name          String
  email         String   @unique
  profilePhoto  String?
  contactNumber String?
  address       String?
  rating        Float    @default(0)
  reviews       Review[]

  isVerified Boolean  @default(false)
  isDeleted  Boolean  @default(false)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  person Person @relation(fields: [email], references: [email])

  @@map("hosts")
}

model User {
  id            String  @id @default(uuid())
  name          String
  email         String  @unique
  profilePhoto  String?
  contactNumber String?
  address       String?
  age           Int?

  isDeleted Boolean  @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  person Person @relation(fields: [email], references: [email])

  reviews Review[]

  @@map("users")
}
